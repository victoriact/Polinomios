INCLUDEDIR = ../include
LIBDIR = ../lib
BINDIR = ../bin

AR = ar
AFLAGS = rs

CC = cc
CFLAGS = -I$(INCLUDEDIR) -L$(LIBDIR)

BIBLIOTECA = $(LIBDIR)/libpol.a
OBJETOS_BIBLIOTECA = pol_es.o pol_arit.o

PROGRAMA = $(BINDIR)/pol
OBJETOS_PROGRAMA = pol.o

$(PROGRAMA): $(OBJETOS_PROGRAMA) $(BIBLIOTECA)
	$(CC) $(OBJETOS_PROGRAMA) $(CFLAGS) -lpol -o $(PROGRAMA)

$(BIBLIOTECA): $(OBJETOS_BIBLIOTECA)
	$(AR) $(AFLAGS) $(BIBLIOTECA) $(OBJETOS_BIBLIOTECA)

$(OBJETOS_PROGRAMA) $(OBJETOS_BIBLIOTECA): $(INCLUDEDIR)/pol.h
